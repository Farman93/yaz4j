%javaconst(1);
%module yaz4jlib
	%{
		#include <zoom.h>
		#include "zoom-extra.h"
	%}
	%include <zoom.h>
	%include "cpointer.i"
	%include "typemaps.i"
	%include "arrays_java.i"
	
	%typemap(jni) struct ByteArrayStruct "jbyteArray"
	%typemap(jtype) struct ByteArrayStruct "byte[]"
	%typemap(jstype) struct ByteArrayStruct "byte[]"
	%typemap(out) struct ByteArrayStruct {
		$result = SWIG_JavaArrayOutSChar(jenv, $1.data, $1.length);
		free((void*)$1.data);
	}
	%typemap(javaout) struct ByteArrayStruct { return $jnicall; }
	
	%include "zoom-extra.h"
	%pointer_functions(int, intp);
